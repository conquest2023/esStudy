import{_ as C,c as i,e as j,F as x,f as $,j as v,l as L,a as t,L as R,t as o,g as c,E as D,R as P,o as r,r as f,h as S,w as b,p as y,u as U,n as w}from"./index-COm22Z05.js";const F={class:"row g-3"},N={key:0,class:"text-center text-muted w-100"},V={class:"card shadow-sm rounded-4 overflow-hidden position-relative hover-effect"},E={class:"card-body p-3"},T={class:"card-title text-truncate"},H={class:"card-text text-muted text-truncate"},K={class:"badge bg-primary"},q={class:"card-footer d-flex justify-content-between align-items-center bg-light"},G={class:"text-muted"},J={class:"text-muted me-2"},O={class:"text-muted"},Q={__name:"PostCardList",props:{items:Array},setup(_){function d(l){if(!l)return"";const e=new Date(l),s=e.getMonth()+1,h=e.getDate();let g=e.getHours();const u=e.getMinutes(),m=g>=12?"오후":"오전";return g=g%12||12,`${s}.${h}. ${m} ${g}:${u.toString().padStart(2,"0")}`}return(l,e)=>(r(),i("div",F,[_.items.length?j("",!0):(r(),i("div",N," 작성된 항목이 없습니다. ")),(r(!0),i(x,null,$(_.items,s=>(r(),i("div",{key:s.feedUID,class:"col-md-6 col-lg-4"},[v(D(P),{to:`/search/view/feed/id?id=${s.feedUID}`,class:"text-decoration-none text-dark"},{default:L(()=>[t("div",V,[t("div",{class:"feed-img position-relative",style:R({background:`url(${s.imageURL||"https://source.unsplash.com/300x200/?abstract"}) center/cover no-repeat`,height:"180px"})},e[0]||(e[0]=[t("div",{class:"overlay d-flex align-items-center justify-content-center"},[t("button",{class:"btn btn-light btn-sm"},"상세보기")],-1)]),4),t("div",E,[t("h5",T,o(s.title||"제목 없음"),1),t("p",H,o(s.description||"내용 없음"),1),t("span",K,o(s.category||"카테고리 없음"),1)]),t("div",q,[t("small",G,o(d(s.createdAt)),1),t("div",null,[t("span",J,[e[1]||(e[1]=t("i",{class:"fas fa-heart text-danger"},null,-1)),c(" "+o(s.likeCount||0),1)]),t("span",O,[e[2]||(e[2]=t("i",{class:"fas fa-eye"},null,-1)),c(" "+o(s.viewCount||0),1)])])])])]),_:2},1032,["to"])]))),128))]))}},k=C(Q,[["__scopeId","data-v-bfeb0090"]]),W={class:"list-group"},X={key:0,class:"list-group-item text-center text-muted"},Y={class:"comment-item"},Z={class:"mt-2"},tt={__name:"CommentList",props:{items:Array},setup(_){function d(l){return l?new Date(l).toLocaleString("ko-KR"):""}return(l,e)=>(r(),i("ul",W,[_.items.length?j("",!0):(r(),i("li",X," 작성된 댓글이 없습니다. ")),(r(!0),i(x,null,$(_.items,s=>(r(),i("li",{key:s.commentUID,class:"list-group-item"},[t("div",Y,[t("div",null,[e[0]||(e[0]=t("strong",null,"댓글 내용:",-1)),c(" "+o(s.content||"내용 없음"),1)]),t("div",null,[e[1]||(e[1]=t("strong",null,"작성일자:",-1)),c(" "+o(d(s.createdAt)),1)]),t("div",null,[e[2]||(e[2]=t("strong",null,"좋아요:",-1)),c(" "+o(s.likeCount||0)+"개",1)]),t("div",Z,[v(D(P),{class:"btn btn-sm btn-primary",to:`/search/view/feed/id?id=${s.feedUID}`},{default:L(()=>e[3]||(e[3]=[c(" 게시물 보러 가기 ")])),_:2},1032,["to"])])])]))),128))]))}},et=C(tt,[["__scopeId","data-v-2e827b45"]]),st={class:"container mt-4"},nt={class:"d-flex justify-content-end"},at={class:"container mt-5"},ot={class:"profile-header d-flex justify-content-between align-items-center"},lt={class:"profile-info d-flex align-items-center"},it={class:"fw-bold text-primary"},rt={class:"text-muted"},ct={class:"text-muted"},dt={class:"profile-stats d-flex justify-content-around mt-4"},ut={class:"post-list mt-5"},mt={class:"nav nav-tabs",role:"tablist"},ft=["onClick"],vt={class:"tab-content mt-3"},_t={__name:"MyPage",setup(_){U();const d=localStorage.getItem("token"),l=f({}),e=f([]),s=f([]),h=f([]),g=f([]),u=f("posts"),m=f([{label:"게시물 수",icon:"fas fa-pen",value:0,color:"text-primary"},{label:"댓글 수",icon:"fas fa-comments",value:0,color:"text-success"},{label:"받은 좋아요",icon:"fas fa-heart",value:0,color:"text-danger"},{label:"방문 수",icon:"fas fa-eye",value:0,color:"text-info"}]),z=[{id:"posts",label:"내가 작성한 게시글"},{id:"comments",label:"작성한 댓글"},{id:"commentedPosts",label:"댓글 단 게시물"},{id:"likedPosts",label:"좋아요 한 글"}];async function A(){const p={Authorization:`Bearer ${d}`},a=await(await fetch("/mypage",{headers:p})).json();l.value=a,m.value[0].value=a.feedCount,m.value[1].value=a.commentCount,m.value[2].value=a.like,m.value[3].value=a.visitCount}async function I(){const n=await(await fetch("/mypage/feed/paging?page=0&size=10",{headers:{Authorization:`Bearer ${d}`}})).json();e.value=n.feedList||[]}async function B(){const n=await(await fetch("/mypage/comment/paging?page=0&size=10",{headers:{Authorization:`Bearer ${d}`}})).json();s.value=n.commentList||[]}async function M(){const n=await(await fetch("/mypage/feed/comment/paging?page=0&size=10",{headers:{Authorization:`Bearer ${d}`}})).json();h.value=n.commentAndFeed||[]}return S(()=>{d&&(A(),I(),B(),M())}),(p,n)=>(r(),i("div",st,[t("div",nt,[v(D(P),{to:"/search/view/feed?index=board",class:"btn btn-secondary btn-home"},{default:L(()=>n[0]||(n[0]=[t("i",{class:"fas fa-home"},null,-1),c(" 메인으로 돌아가기 ")])),_:1})]),t("div",at,[t("div",ot,[t("div",lt,[t("div",null,[t("h2",it,o(l.value.username),1),t("p",rt,[n[1]||(n[1]=c("아이디: ")),t("strong",null,o(l.value.userId),1)]),t("p",ct,[n[2]||(n[2]=c("이름: ")),t("strong",null,o(l.value.username),1)]),t("p",null,[n[3]||(n[3]=t("i",{class:"fas fa-bolt"},null,-1)),n[4]||(n[4]=c(" 활동 점수: ")),t("strong",null,o(l.value.point),1)])])])]),t("div",dt,[(r(!0),i(x,null,$(m.value,a=>(r(),i("div",{class:"stat-box",key:a.label},[t("span",null,[t("i",{class:w(a.icon)},null,2),c(" "+o(a.label),1)]),t("h4",{class:w(a.color+" fw-bold")},o(a.value),3)]))),128))]),t("div",ut,[t("ul",mt,[(r(),i(x,null,$(z,a=>t("li",{class:"nav-item",key:a.id},[t("button",{class:w(["nav-link",{active:u.value===a.id}]),onClick:gt=>u.value=a.id},o(a.label),11,ft)])),64))]),t("div",vt,[b(t("div",null,[v(k,{items:e.value,type:"feed"},null,8,["items"])],512),[[y,u.value==="posts"]]),b(t("div",null,[v(et,{items:s.value},null,8,["items"])],512),[[y,u.value==="comments"]]),b(t("div",null,[v(k,{items:h.value,type:"commented"},null,8,["items"])],512),[[y,u.value==="commentedPosts"]]),b(t("div",null,[v(k,{items:g.value,type:"liked"},null,8,["items"])],512),[[y,u.value==="likedPosts"]])])])])]))}},ht=C(_t,[["__scopeId","data-v-4b813e20"]]);export{ht as default};
