import{_ as x,r as l,c as d,a as t,t as m,F as f,f as y,y as C,s as k,o as c,j as T,w as R,e as B,p as M,z as E,C as I,A as D,B as A,D as V}from"./index-COm22Z05.js";const z={class:"dropdown-group mb-3"},F={class:"dropdown"},P={class:"btn btn-light dropdown-toggle custom-category-btn",type:"button","data-bs-toggle":"dropdown"},L={class:"dropdown-menu custom-dropdown-menu"},N=["onClick"],G={class:"dropdown"},H=["disabled"],U={class:"dropdown-menu custom-dropdown-menu"},j=["onClick"],q={class:"dropdown"},J=["disabled"],K={class:"dropdown-menu custom-dropdown-menu"},O=["onClick"],Q={__name:"CategorySelector",emits:["subCategorySelected"],setup(S,{emit:v}){const g=v,r=l(""),i=l(""),a=l(""),h=l([]),u=l([]),p={기계:["기계장비설비.설치","기계제작","금형.공작기계","자동차","철도"],건설:["건축","도시.교통","토목","조경","건설배관"],안전관리:["안전관리"],"전기.전자":["전기","전자"],"환경.에너지":["환경","에너지.기상"],IT:["정보기술","민간자격증"],재료:["용접","금속.재료","단조.주조"],"식품.가공":["식품","제과.제빵"],"경영.회계.사무":["생산관리","경영"],"이용.숙박.여행.오락.스포츠":["이용.미용","숙박.여행.오락.스포츠"],농림어업:["임업","어업","농업","축산"],"보건.의료":["보건.의료"],"사회복지.종교":["사회복지.종교"],"영업.판매":["영업.판매"],화학:["화공","위험물"],영어:["토익","오픽"]};function _(o){r.value=o,i.value="",a.value="",h.value=p[o],u.value=[]}function w(o){i.value=o,a.value="",u.value=[],b(r.value,o)}async function b(o,$){const n=localStorage.getItem("token");try{const{data:s}=await k.get(`/certificate/category/${o}/${$}`,{headers:{Authorization:`Bearer ${n}`}});u.value=s.certSchedule||[]}catch(s){console.error("소분류 불러오기 실패",s)}}function e(o){a.value=o,g("subCategorySelected",o)}return(o,$)=>(c(),d("div",z,[t("div",F,[t("button",P,m(r.value||"카테고리를 선택하세요"),1),t("ul",L,[(c(),d(f,null,y(p,(n,s)=>t("li",{key:s},[t("a",{href:"#",class:"dropdown-item",onClick:C(te=>_(s),["prevent"])},m(s),9,N)])),64))])]),t("div",G,[t("button",{class:"btn btn-light dropdown-toggle custom-category-btn",type:"button","data-bs-toggle":"dropdown",disabled:!r.value},m(i.value||"중분류 선택"),9,H),t("ul",U,[(c(!0),d(f,null,y(h.value,n=>(c(),d("li",{key:n},[t("a",{href:"#",class:"dropdown-item",onClick:C(s=>w(n),["prevent"])},m(n),9,j)]))),128))])]),t("div",q,[t("button",{class:"btn btn-light dropdown-toggle custom-category-btn",type:"button","data-bs-toggle":"dropdown",disabled:!i.value},m(a.value||"자격증 선택"),9,J),t("ul",K,[(c(!0),d(f,null,y(u.value,n=>(c(),d("li",{key:n},[t("a",{href:"#",class:"dropdown-item",onClick:C(s=>e(n),["prevent"])},m(n),9,O)]))),128))])])]))}},W=x(Q,[["__scopeId","data-v-b3271701"]]);var X={code:"ko",buttonText:{prev:"이전달",next:"다음달",today:"오늘",year:"년도",month:"월",week:"주",day:"일",list:"일정목록"},weekText:"주",allDayText:"종일",moreLinkText:"개",noEventsText:"일정이 없습니다"};const Y={class:"container my-5"},Z={id:"calendar",class:"mt-4 rounded shadow-sm p-2 bg-white"},ee={__name:"CertificateCalendar",setup(S){const v=l(!1),g=l(!1),r=l(!1),i=l("");let a=null;function h(){r.value=!0}async function u(p){i.value=p,g.value=!0;const _=localStorage.getItem("token"),{data:w}=await k.get(`/certificate/schedule/${encodeURIComponent(p)}`,{headers:{Authorization:`Bearer ${_}`}}),b=w.certSchedule.flatMap(e=>[{title:`[필기 원서접수] ${e.name} - ${e.examRound}`,start:e.writtenRegStart,color:"#007bff"},{title:`[필기 시험] ${e.name} - ${e.examRound}`,start:e.writtenExamStart,color:"#ff6b6b"},{title:`[필기 합격발표] ${e.name} - ${e.examRound}`,start:e.writtenPassDate,color:"#ffc107"},{title:`[실기 원서접수] ${e.name} - ${e.examRound}`,start:e.practicalRegStart,color:"#17a2b8"},{title:`[실기 시험] ${e.name} - ${e.examRound}`,start:e.practicalExamStart,color:"#28a745"},{title:`[실기 합격발표] ${e.name} - ${e.examRound}`,start:e.practicalPassStart,color:"#ff851b"}]);await E(),a?(a.removeAllEvents(),a.addEventSource(b)):(a=new I(document.getElementById("calendar"),{height:600,contentHeight:"auto",dayMaxEventRows:3,plugins:[D,A,V],initialView:"dayGridMonth",locale:X,events:b,eventClick:({event:e})=>{alert(`${e.title} - ${e.startStr}`)}}),a.render()),v.value=!0}return(p,_)=>(c(),d("div",Y,[_[0]||(_[0]=t("h1",{class:"text-center text-primary mb-4"},"자격증 캘린더",-1)),T(W,{onSubCategorySelected:u}),R(t("div",Z,null,512),[[M,v.value]]),g.value?(c(),d("div",{key:0,id:"studyTipFloatBtn",onClick:h},"팁")):B("",!0)]))}},ae=x(ee,[["__scopeId","data-v-e9e3ada4"]]);export{ae as default};
